---
sidebar_position: 1
description: 了解数列相关的基础概念．
---

# 数列基础

## 数列基本概念

- **数列** 是按照一定次序排列的一列数．
- 数列中每一个数称作这个数列的一个 **项**，第一项称作 **首项**，最后一项称作 **末项**．
- 组成数列的数的个数称作 **项数**，项数有限的数列称作 **有穷数列**，项数无穷的数列称作 **无穷数列**．无穷数列没有末项．
- **未指明项数有限的数列，均默认为无穷数列**．

数列从首项起，每一项都与正整数对应．数列的一般形式可以写作

$$
a_1, a_2, a_3, \ldots, a_n, \ldots
$$

其中 $a_n$ 表示数列的第 $n$ 项（$n$ 称作 $a_n$ 的 **序号（或下标）**，有 $n \in \N^\ast$），称作数列的 **通项**．此时，整个数列可以简记作 $\{a_n\}$．

:::note[区别数列与集合]

- 数列具有 **有序性**，而集合具有 **无序性**．$1, 2, 3$ 与 $2, 3, 1$ 不是同一数列，但 $\{1, 2, 3\}$ 与 $\{2, 3, 1\}$ 是同一集合．
- 数列具有 **可重性**，而集合具有 **互异性**．允许 $1, 2, 1$ 这样的数列，但不允许 $\{1, 2, 1\}$ 这样的集合．
- $\{a_n\}$ 中的大括号与集合中的大括号没有任何联系．

:::

一般地，如果数列的第 $n$ 项 $a_n$ 与 $n$ 之间的关系可以用

$$
a_n = f(n)
$$

来表示，其中 $f(n)$ 是关于 $n$ 而不含其它未知数（可含参）的表达式，则 $f(n)$ 称作数列 $\{a_n\}$ 的一个 **通项公式**．显然，通项公式已知的数列可以直接写出数列中的任意一项，即 **通项公式确定，则数列确定**．

:::note[所有的数列都有通项公式吗？]

这个问题的答案并不明确，取决于对公式的定义．如果这道题在读者的同步练习册或同步考试中出现，**推荐判否**．高考不会出这种题，无需纠结．

:::

数列的通项公式可能不唯一．如数列 $-1, 1, -1, 1, \ldots$ 就存在多个通项公式，其中的两个为：

- $a_n = (-1)^n$．
- $a_n = \cos n \pi$．

可以看到两个公式并不相同，它们只是在所有正整数点都正好相等而已．

## 函数解决数列问题

:::info[例题 2]

若数列 $\{a_n\}$ 的通项 $a_n = -2n^2 + 29n + 3$，求此数列的最大项．

:::

:::tip[例题 2 解答]

问题等价于求函数 $a(n) = -2n^2 + 29n + 3$ 在 **所有 $n \in \N^\ast$ 处的最大值**．

根据二次函数的性质可得，$a(n)$ 的最大值在对称轴 $n = \df{29}4$ 取到．

但我们要求的是 **自变量为正整数** 的所有函数值最大值，因此应该取距离对称轴最近的点 $n = 7$ 作为最终答案．计算可知 $a_7 = 108$，其为数列最大项．

:::

上面的例题启示我们：函数法处理数列，需要注意所求的通常不是函数的最值，而是 **函数在整横坐标点处的最值**，因此函数最值等信息不能简单挪用作为答案，还需进一步处理．

## 数列的单调性

数列的单调性分为四类：

- **递增数列**：满足 $\forall n \in \N^\ast$，$a_n < a_{n + 1}$ 的数列 $\{a_n\}$．
- **递减数列**：$\forall n \in \N^\ast$，$a_n > a_{n + 1}$ 的数列 $\{a_n\}$．
- **常数列**：$\forall n \in \N^\ast$，$a_n = a_{n + 1}$ 的数列 $\{a_n\}$．
- **摆动数列**：不为上面三种数列的数列均称作摆动数列．

数列的单调性证明比函数简单许多．以递增为例：

- 数列上只需证明 $a_{n + 1} > a_n$ 对任意 $n \in \N^\ast$ 都成立．
- 函数上需要在定义域 $I$ 内任取 $x_1 < x_2$，证明 $f(x_1) < f(x_2)$．

这种难度上的差异正是由数列的离散性造成的．

证明 $a_{n + 1} > a_n$，通常有两种策略：

- **作差法**：求 $a_{n + 1} - a_n$ 的正负性．
- **作商法**：
	- 如果 $\{a_n\}$ **恒正**，$\df{a_{n + 1}}{a_n} > 1$ 说明数列递增，$< 1$ 说明递减．
	- 如果 $\{a_n\}$ **恒负**，$\df{a_{n + 1}}{a_n} < 1$ 说明数列递增，$> 1$ 说明递减．

:::info[例题 3.1]

已知数列 $\{a_n\}$ 的通项公式为 $a_n = 2n^2 - 3n$，判断 $\{a_n\}$ 的增减性．

:::

:::tip[例题 3.1 解答]

$a_{n + 1} - a_n = 4n - 1$．因为 $n \in \N^\ast$，因此 $4n - 1 > 0$，$\{a_n\}$ 递增．

:::

:::info[例题 3.2]

已知数列 $\{a_n\}$ 的通项公式为 $a_n = n^2 + \lambda n$，若 $\{a_n\}$ 递增，求 $\lambda$ 的取值范围．

:::

:::tip[例题 3.2 解答]

$a_{n + 1} - a_n = 2n + 1 + \lambda$．则条件等价于

$$
f(n) = 2n + 1 + \lambda
$$

**在 $n$ 取正整数时** 恒 $> 0$．

$n$ 取正整数时，最小值在 $n = 1$ 取到，只需令 $3 + \lambda > 0$，解得 $\lambda > -3$．

:::

::::danger[例题 3.2 错误解答示例]

将 $a_n$ 视作函数 $a(n)$，条件等价于 $a(n)$ 在 $n \ge 1$ 时递增．

即函数对称轴 $-\df{\lambda}2 \le 1$，解得 $\lambda \ge -2$．

:::note[错因]

条件并不等价于函数在 $n \ge 1$ 时递增，只等价于 $a(1), a(2), a(3), \ldots$ 这些离散点递增．**前者比后者强**．前者忽略了 $n \ge 1$ 时并不递增，但是对称轴在 $n = 1$ 与 $n = 2$ 之间，且更靠近 $n = 1$ 的情况，此时这些离散点仍然递增．

即真正等价的表述应当是对称轴 $-\df{\lambda}2 < \df 3 2$，解得 $\lambda > -3$．

错因总结：忽略了连续函数与离散数列的不同．

:::

::::

数列增减性相关问题一般有定义法与函数法两种方法．考虑到前者适用范围是后者的超集，并且后者容易出现「忽略离散性」的错误，笔者推荐：除非函数真的可以一眼看出答案（如例 3.1 可以一眼看出对称轴为 $\df 3 4$ 从而证明递增），永远更推荐使用 **定义法**．

用 **增减性** 解决 **数列最值问题** 或 **数列不等式问题** 也是 **非常重要的一个思想**．能通过函数法直接看出最值的通项是稀少的，更普遍的情况是 **先研究数列的增减性**，从而 **根据增减性分析出最大项与最小项的下标**，这一套连招务必熟练．

:::caution 思想重要性提示

上面这段话很重要，请读者再次认真阅读并体会．

:::

:::info[例题 3.3]

已知数列 $\{a_n\}$ 的通项公式为 $a_n = (n + 1)(\df{9}{10})^n$，求 $\{a_n\}$ 的最大项．

:::

:::tip[例题 3.3 解答]

$$
\begin{aligned}
f(n) = a_{n + 1} - a_n &= (n + 2)(\df{9}{10})^{n + 1} - (n + 1)(\df 9{10})^n \\
&= (\df 9 {10})^n[\df 9 {10}(n + 2) - (n + 1)] \\
&= \df{8 - n}{10} \cdot (\df 9 {10})^n
\end{aligned}
$$

在 $n \in \N^\ast$ 的情况下：

- $1 \le n \le 7$ 时，$f(n) > 0 \implies a_{n + 1} > a_n \implies a$ 递增．
- $n = 8$ 时，$f(n) = 0 \implies a_{n + 1} = a_n$．
- $n \ge 9$ 时，$f(n) < 0 \implies a_{n + 1} < a_n \implies a$ 递减．

即

$$
a_1 < a_2 < \cdots < a_7 < a_8 = a_9 > a_{10} > a_{11} > \cdots
$$

因此数列的最大项应为第 $8$ 项和第 $9$ 项．

:::

:::info[例题 3.4]

已知数列 $\{a_n\}$ 满足 $a_1 = 2$，$2a_na_{n + 1} = {a_n}^2 + 1$，求证：$\{\df{a_n - 1}{a_n + 1}\}$ 递减．

:::

:::tip[例题 3.4 解答]

设待证数列为 $b_n = \df{a_n - 1}{a_n + 1}$．分离常数得 $b_n = 1 - \df 2 {a_n + 1}$．

想知道 $b_n$ 的增减性，我们需要考察：

- $\{a_n + 1\}$ 的正负．
- $\{a_n + 1\}$ 的增减性（即 $\{a_n\}$ 的增减性）．

**先来看正负**．对 $2a_na_{n + 1} = {a_n}^2 + 1$ 分析，可知 $a_n > 0$ 时，$a_{n + 1} > 0$．

而 $a_1 = 2 > 0$，归纳可知整个 $\{a_n\}$ 恒正，$\{a_n + 1\}$ 自然恒正．

**再来看增减性**．很明显 $\{a_n + 1\}$ 的增减性就是 $\{a_n\}$ 的增减性，只需考察 $a_{n + 1} - a_n$ 的正负：

$$
a_{n + 1} - a_n = \df{{a_n}^2 + 1}{2a_n} - a_n = \df{1 - {a_n}^2}{2a_n}
$$

已知 $a_n > 0$，则分母恒大于 $0$，只需 **考察分子的正负，即 $a_n$ 与 $1$ 的大小关系**．

注意到 $a_{n + 1} = \df{{a_n}^2 + 1}{2a_n} = \df{a_n} 2 + \df 1 {2a_n} \ge 2 \sqrt{\df{a_n} 2 \cdot \df 1 {2a_n}} = 1$，当且仅当 $\df{a_n}{2} = \df 1 {2a_n}$，即 $a_n = 1$ 时，等号成立．

而 $a_1 = 2$，不满足等号成立条件，因此 $a_2 > 1$．因为 $a_2 \ne 1$，$a_3 > 1$……综上，**整个 $\{a_n\}$ 始终大于 $1$**．

因此 $1 - {a_n}^2 < 0$，$a_{n + 1} - a_n < 0$．$\{a_n\}$ 递减．

$\{a_n + 1\}$ **恒正递减**．于是，$b_n = 1 - \df 2 {a_n + 1}$ 递减，证毕．

:::

## 递推公式

通项公式可以确定一个数列．下面的方式也可以确定一个数列：

- 给定数列的前 $k$ 项．
- 对于任意 $n \ge k + 1$，有 $a_n = f(a_{n - 1}, a_{n - 2}, \ldots, a_{n - k}, n)$．

此时我们称这个数列为一个 $k$ **阶递推数列**，$a_n = f(a_{n - 1}, a_{n - 2}, \ldots, a_{n - k}, n)$ 称作数列的 **递推公式**．

有些递推公式与 $n$ 有关，如 $a_{n + 1} = a_n + n + 1$．

有些递推公式与 $n$ 无关，如 $a_{n + 1} = a_n + 1$．

:::info[例题 4.1]

在数列 $\{a_n\}$ 中，$a_1 = 1$，$a_2 = \df 2 3$，且 $\df{1}{a_{n - 2}} + \df{1}{a_n} = \df{2}{a_{n - 1}}, \quad n \ge 3, n \in \N^\ast$，求 $a_4$．

:::

:::tip[例题 4.1 解答]

本题将递推公式做了一些包装，为了方便计算我们做一些变形．最方便的变形策略是将它变形为

$$
\df{1}{a_n} = \df{2}{a_{n - 1}} - \df{1}{a_{n - 2}}
$$

- 将包含 $a_n$ 的项放在前面，递推前项放在后面．
- 不需要一定转成 $a_n = \cdots$ 的形式，上面的式子已经足够方便做题，接着变形代入计算反而更麻烦．

简单计算可得 $a_4 = \df 5 2$．

读者学到后面也可以发现这个数列其实是等差数列的倒数，因此答案可以更快得到，不过这是后话了．

:::

:::info[例题 4.2]

已知数列 $\{a_n\}$ 中，$a_1 = 3$，$a_2 = 6$，$a_n = a_{n - 1} - a_{n - 2},\quad n \ge 3, n \in \N^\ast$，求 $a_{660}$．

:::

:::tip[例题 4.2 解答]

$$
a_1 = 3, a_2 = 6, a_3 = 3, a_4 = -3, a_5 = -6, a_6 = -3, a_7 = 3, a_8 = 6, \ldots
$$

算到这就可以停了，因为该数列是一个 **二阶递推数列**，并且 **递推式与 $n$ 无关**，而 $a_7 = a_1$，$a_8 = a_2$，这就一定意味着 $a_9 = a_3$，$a_{10} = a_4$……于是整个数列是一个周期为 $6$ 的循环数列，$660 \bmod 6 = 0$，因此 $a_{660} = a_6 = -3$．

:::

对于乍一看没什么通项规律的递推数列，还要求很后的项的，可能是周期数列．我们从 $a_1$ 一项一项往后算，**对于 $k$ 阶递推数列，若递推式与 $n$ 无关，则只要有相邻的 $k$ 项与先前相邻 $k$ 项相同，就说明出现循环**．此时不必再往后算，运用周期解答即可．

递推公式分段的数列也可能是周期数列．如

$$
a_n = \begin{cases}
2a_n, &0 \le a_n < \df 1 2 \\
2a_n - 1, & \df 1 2 \le a_n < 1
\end{cases}
$$

且 $a_1 = \df 6 7$．该数列是一个周期为 $3$ 的数列．

:::info[例题 4.3]

已知 $a_na_{n + 1}a_{n + 2} = a_n + a_{n + 1} + a_{n + 2}$，$a_1 = 1$，$a_2 = 2$，求 $a_{660}$．

:::

:::tip[例题 4.3 解答]

首先可以发现，递推式具有 **轮换对称性**．即如果 $a_n = x$，$a_{n + 1} = y$，$a_{n + 2} = z$ 满足递推式，则 $a_n = y$，$a_{n + 1} = z$，$a_{n + 2} = x$ 满足递推式，$a_n = z$，$a_{n + 1} = x$，$a_{n + 2} = y$ 也满足递推式．

因此令 $a_3 = k$，则 $a_n = 1$，$a_{n + 1} = 2$，$a_{n + 2} = k$ 满足递推式，根据轮换对称性，$a_n = 2$，$a_{n + 1} = k$，$a_{n + 2} = 1$ 一定也满足递推式，那么 $a_4 = 1$ 就一定是一个解．

更进一步，$a_3 = k$，$a_4 = 1$，根据轮换对称性又可知 $a_5 = 2$……这样轮换下去，可以得到 $1, 2, k, 1, 2, k, 1, 2, k, \ldots$ 一定是一个符合递推式的数列，那么它是唯一一个吗？

此时就得回到原式了，注意到递推式变形得

$$
(a_na_{n + 1} - 1)a_{n + 2} = a_n + a_{n + 1}
$$

$a_1a_2 - 1 \ne 0$，因此 $a_3 = \df{a_1 + a_2}{a_1a_2 - 1} = 3$．

而 $a_3a_4 - 1 \ne 0$，因此 $a_4$ 的解唯一，根据轮换对称性知其为 $1$；

$a_4a_5 - 1 \ne 0$，因此 $a_5$ 的解唯一，根据轮换对称性知其为 $2$……

注意到前面判断不等于 $0$ 的式子也在轮换，因为 $1 \times 2 \ne 0$，$2 \times 3 \ne 0$，$3 \times 1 \ne 0$，因此后面的 $a_na_{n + 1} - 1$ 始终不为零，使得 $a_{n + 2}$ 有唯一解．

因此 $\{a_n\}$ 存在且唯一：$1, 2, 3, 1, 2, 3, 1, 2, 3, \ldots$，第 $660$ 项为 $3$．

:::

**$k$ 阶递推式具有轮换对称性，一般意味着数列存在长度为 $k$ 的周期**．

## 前缀和与差分

对一个数列 $\{a_n\}$，其可以生成两个数列：

$$
S\colon S_n = \sum_{i = 1}^n a_i = S_{n - 1} + a_n
$$

称 $\{S_n\}$ 为 $\{a_n\}$ 的 **前 $n$ 项和**．后面称之为 **前缀和**．

$$
D \colon D_n = \begin{cases}
a_1, & n = 1 \\
a_n - a_{n - 1}, & n \ge 2
\end{cases}
$$

称 $\{D_n\}$ 为 $\{a_n\}$ 的 **差分**．

结论：**前缀和** 与 **差分** 为一对逆运算．即下面两个子命题均成立：

:::note[子命题一]

已知

$$
S_n = \sum_{i = 1}^n D_i
$$

则

$$
D_n = \begin{cases}
S_1, & n = 1 \\
S_n - S_{n - 1}, & n \ge 2
\end{cases}
$$

:::

:::note[子命题二]

已知

$$
D_n = \begin{cases}
S_1, & n = 1 \\
S_n - S_{n - 1}, & n \ge 2
\end{cases}
$$

则

$$
S_n = \sum_{i = 1}^n D_i
$$

:::

:::info[例题 5.1]

已知数列 $\{a_n\}$ 的前 $n$ 项和为 $\{S_n\}$，且 $\log_2(S_n + 1) = n + 1(n \in \N^\ast)$，求 $a_n$．

:::

本题是一道给 $\{S_n\}$ 求 $\{a_n\}$ 的题目．因为前缀和与差分是一对逆运算，我们对 $\{S_n\}$ 求差分即为 $\{a_n\}$．

:::tip[例题 5.1 解答]

条件变形得 $S_n = 2^{n + 1} - 1$．

当 $n = 1$ 时，$a_1 = S_1 = 3$．

当 $n \ge 2$ 时，$a_n = S_n - S_{n - 1} = 2^n$．

因此

$$
a_n = \begin{cases}
3, & n = 1 \\
2^n & n \ge 2
\end{cases}
$$

**这里要注意一下两种情况能不能合并，能合并的时候不合并会扣分**．本题中两种情况不能合并（$2^1 \ne 3$），因此答案就是分段的．

:::

已知 $\{a_n\}$ 的前缀和 $\{S_n\}$，还可以求 $\{a_n\}$ 的 **区间和**，即 $\sum_{i = l}^r a_i$．我们有

$$
\sum_{i = l}^r a_i = S_r - S_{l - 1}, \quad l \ne 1
$$

例题就不放了，有印象即可．

:::info[例题 5.2]

已知各项为负数的数列 $\{a_n\}$ 的前 $n$ 项和为 $S_n$，且 $2S_n = a_n - {a_n}^2$，求数列 $\{a_n\}$ 的通项公式．

:::

提示：后面的页面会详尽地讲解这类题型的做题策略，下面的解答只要求 **看懂即可**．

:::tip[例题 5.2 解答]

$n = 1$ 时，$2a_1 = a_1 - {a_1}^2$，解得 $a_1 = -1$ 或 $a_1 = 0$（舍，$\{a_n\}$ 各项均为负数）．

$n \ge 2$ 时，考虑到

$$
\begin{aligned}
2S_n &= a_n - {a_n}^2 \\
2S_{n - 1} &= a_{n - 1} - {a_{n - 1}}^2
\end{aligned}
$$

两式相减得

$$
2a_n = a_n - {a_n}^2 - a_{n - 1} + {a_{n - 1}}^2
$$

即

$$
a_n + {a_n}^2 + a_{n - 1} - {a_{n - 1}}^2 = 0
$$

左侧可以因式分解．

$$
(a_n + a_{n - 1})(a_n - a_{n - 1} + 1) = 0
$$

由于 $\{a_n\}$ 各项为负数，$a_n + a_{n - 1} \ne 0$，因此 $a_n - a_{n - 1} + 1 = 0$，即 $a_n - a_{n - 1} = -1$．

因此 $\{a_n\}$ 是一个首项为 $-1$，公差为 $-1$ 的等差数列，$a_n = -n, \quad n \in \N^\ast$．

:::

技巧：结构相似的式子相减得到的式子，一般通过因式分解处理．

原理：$a^n - b^n$ 一定含有因式 $a - b$（$n \in \N^\ast$），$a^n + b^n$ 一定含有因式 $a + b$（$n \in \N^\ast$ 且 **$n$ 为奇数**），而结构相似的式子相减往往会出现大量 $a^n \pm b^n$，因此结果往往能因式分解．

:::info[例题 5.3]

已知数列 $\{a_n\}$ 满足 $a_1 = 1$，$a_{n + 1} - a_n = n, \quad n \in \N^\ast$，求数列 $\{a_n\}$ 的通项公式．

:::

原题相当于给定了 $\{a_n\}$ 的差分 $\{D_n\}$，让我们求数列 $\{a_n\}$．只需对数列 $\{D_n\}$ 做前缀和即可得到数列 $\{a_n\}$．

:::tip[例题 5.3 解答（非标准）]

由题可知，

$$
D_n = \begin{cases}
1, & n = 1 \\
n - 1, & n \ge 2
\end{cases}
$$

需要注意一下差分数组的定义是 $D_n = a_n - a_{n - 1}$，因此条件的 $n \to n - 1$ 后等号右侧才是 $D_n$．

对 $\{D_n\}$ 做前缀和可得

$$
a_n = \begin{cases}
1, & n = 1 \\
1 + 1 + 2 + \cdots + n - 1 = \df{n^2 - n + 2}2, & n \ge 2
\end{cases}
$$

这里分开算一下的目的是，$n = 1$ 时后面那个 $1 + 2 + \cdots + n - 1$ 的 **数列为空**，数列为空的情形习惯上分类讨论一下，因为各种求和公式理论上都是在数列存在时推导的．

然而事实上，等差数列和等比数列的求和公式（后面学习）在代入项数 $= 0$ 时计算出来的和均为 $0$，是符合期望的，因此两种情况往往可以合并，即

$$
a_n = \df{n^2 - n + 2}2
$$

:::

下面写一下标准过程的写法．

:::tip[5.3 解答（标准过程）]

当 $n = 1$ 时，$a_1 = 1$．

当 $n \ge 2$ 时，

$$
\begin{aligned}
a_n &= a_1 + (a_2 - a_1) + (a_3 - a_2) + \cdots + (a_n - a_{n - 1}) \\
&= 1 + 1 + 2 + \cdots + n - 1 \\
&= \df{n^2 - n + 2}2
\end{aligned}
$$

计算得两种情况可合并，因此 $a_n = \df{n^2 - n + 2}2$．

:::

出题人可能会对 $a_n - a_{n - 1} = f(n)$ 这个式子做一些变形，如 $2a_{n - 1} + f(n) = 2a_n$，记得识别这些变形后的条件也相当于给出了差分数列．

## 前缀积与比分

对于所有项均不为 $0$ 的数列 $\{a_n\}$，其可以生成两个数列：

$$
T\colon T_n = \prod_{i = 1}^n a_i = T_{n - 1} \cdot a_n
$$

称 $\{T_n\}$ 为 $\{a_n\}$ 的 **前 $n$ 项积**．后面称之为 **前缀积**．

$$
R \colon R_n = \begin{cases}
a_1, & n = 1 \\[1em]
\df{a_n}{a_{n - 1}}, & n \ge 2
\end{cases}
$$

称 $\{R_n\}$ 为 $\{a_n\}$ 的「比分」．

结论：**前缀积** 与「**比分**」为一对逆运算．

前缀积、「比分」与前缀和、差分的关系是非常类似的，可以说只改了一个符号．因此前缀积、「比分」相关的题型不再过多赘述．

## 数列中的特殊值法

:::info[例题 ex]

（单选题）已知等差数列 $\{a_n\}$ 的前缀和 $\{S_n\}$ 有 $S_9 = 72$，则 $a_2 + a_4 + a_9$ 的值为：

- A. 8
- B. 20
- C. 24
- D. 27

:::

:::tip[例题 ex 解答]

特殊值，令 $\{a_n\}$ 为 $a_n = 8$ 的常数列，满足条件．此时 $a_2 + a_4 + a_9 = 24$，选 C．

:::

数列中的一种特殊值法就是设成 **常数列**．由于等差数列和等比数列都包含常数列，这种特殊值在 **等差、等比** 相关问题的 **条件较少** 的题目中可能发挥意想不到的效果．

当然，上面这个题存在常规方法，后面讲完等差数列再回看后就会发现它是基础题．
