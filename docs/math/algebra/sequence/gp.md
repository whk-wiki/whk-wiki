---
sidebar_position: 3
description: 了解等比数列．
---

# 等比数列

## 等比数列基础

### 等比数列基本概念

如果一个数列从第二项起，每一项与前一项的比都为一个常数 $q$（quotient），则将这个数列称作 **等比数列**，$q$ 称作该数列的 **公比**．

根据定义可以得知：

- **一个等比数列中，每一项都不为 $0$**（否则做比操作不合法）．
- $q \ne 0$（因为任意一项均不为 $0$）．

:::info[例题 1.1]

设等比数列 $\{a_n\}$ 公比为 $q$，下列说法正确的是（  ）．

- A. $\{a_na_{n + 1}\}$ 是公比为 $q$ 的等比数列．
- B. $\{a_n + a_{n + 1}\}$ 是公比为 $q$ 的等比数列．
- C. $\{a_n - a_{n + 1}\}$ 是公比为 $q$ 的等比数列．
- D. $\{ \dfrac 1 {a_n} \}$ 是公比为 $\dfrac 1 q$ 的等比数列．

:::

:::tip[例题 1.1 解答]

此类题目应先看结果数列是否可能有 $0$，有 $0$ 的一定不是等比数列．

对 B 可以构造 $1, -1, 1, -1, \ldots$，C 可以构造 $1, 1, 1, \ldots$，此时对应数列会出现 $0$，因此不选．

等比数列任一项不为 $0$，因此 $a_na_{n + 1} \ne 0$．然而 $\dfrac{a_{n + 1}a_{n + 2}}{a_na_{n + 1}} = q^2$，不一定等于 $q$，因此 A 错误．

而 $\dfrac 1 {a_{n + 1}} \div \dfrac 1 {a_n} = \dfrac {a_n}{a_{n + 1}} = \dfrac 1 q$，D 正确．

:::

对于等比数列 $\{a_n\}$，设其「比分」为 $\{R_n\}$，有

$$
R_n = \begin{cases}
a_1, & n = 1 \\
q, & n \ge 2
\end{cases}
$$

对 $\{R_n\}$ 做前缀积可得

$$
a_n = a_1 q^{n - 1}
$$

该式为 **等比数列的通项公式**．确定 $a_1$ 和 $q$ 后，等比数列确定，而只确定其中之一则无法确定等比数列．

对于长度为 $3$ 的等比数列 $a, b, c$，称 $\{b_n\}$ 是 $\{a_n\}$ 和 $\{c_n\}$ 的 **等比中项**．这等价于

$$
\dfrac b a = \dfrac c b
$$

又等价于

$$
\begin{cases}
b^2 = ac \\
abc \ne 0
\end{cases}
$$

**单向推出而不等价于** $b^2 = ac$．

也就是说，$\{b_n\}$ 是 $\{a_n\}$ 和 $\{c_n\}$ 的等比中项可以推出 $b^2 = ac$，但反过来，知道 $b^2 = ac$ 还不足以推出 $\{b_n\}$ 是 $\{a_n\}$ 和 $\{c_n\}$ 的等比中项，必须再加条件 $abc \ne 0$．这是与等差中项不同的地方．

还有一个明显不同的地方是：对于任意 $\{a_n\}$ 和 $\{c_n\}$，其一定恰存在一个等差中项 $\{b_n\}$；但对于等比数列：

- 如果 $ac > 0$，$\{a_n\}$ 与 $\{c_n\}$ 存在两个等比中项 $b = \pm \sqrt{ac}$．
- 如果 $ac < 0$，$\{a_n\}$ 与 $\{c_n\}$ 不存在等比中项．

如 $1$ 和 $9$ 的等比中项为 $\pm 3$，$3$ 和 $-3$ 都可以作为 $1$ 和 $9$ 的等比中项；而 $1$ 和 $-9$ 不存在等比中项．

等比数列的英文是 Geometric Progression，简称 GP．Geometric 意为「几何的」，正与这里 $b = \pm\sqrt{ac}$ 的「几何平均值」（采正值）对应．

### 有限长度等比数列

如果题目给定条件「$a_1, a_2, \ldots, a_k$ 为等比数列」，我们可以将它 **等价** 地转化为：

$$
\begin{aligned}
{a_2}^2 &= a_1a_3 \\
{a_3}^2 &= a_2a_4 \\
& \cdots \\
{a_{k - 1}}^2 &= a_{k - 2}a_k \\
a_1a_2\cdots a_k & \ne 0
\end{aligned}
$$

共 $k - 2$ 个等式和 $1$ 个不等式（也可以理解为 $k$ 个不等于 $0$ 的不等式）．

:::info[例题 1.2]

已知 $\{a_n\}$，$\{b_n\}$，$\{c_n\}$ 成等比数列，证明 $a^2$，$a^2 + b^2$，$(a + c)^2$ 成等比数列．

:::

:::tip[例题 1.2 解答]

条件等价于 $b^2 = ac$ 且 $abc \ne 0$．

结论等价于 $(a^2 + b^2)^2 = a^2(a+c)^2$ 且 $a^2(a^2 + b^2)(a + c)^2 \ne 0$．

先证明后边这个不等式（不要忘证了）．因为 $a \ne 0$，$b \ne 0$，$c \ne 0$，所以 $a^2 \ne 0$，$a^2 + b^2 \ne 0$．

由于 $\{b_n\}$ 存在，因此 $ac > 0$，$a + c \ne 0$，$(a + c)^2 \ne 0$．不等式证毕．

再证明前面这个等式．$(a^2 + b^2)^2 = (a^2 + ac)^2 = a^2(a + c)^2$．等式证毕．

:::

### 等比数列的增减性

等差数列中笔者省略了对增减性的讨论——其增减性显然只与 $d$ 的正负有关．但在等比数列中会有一些细节，下探讨．

对于公比为 $q$ 的等比数列 $\{a_n\}$：

- 当 $q < 0$ 时，$\{a_n\}$ 为 **摆动数列**（正负摆动，因此增减摆动）．如果想要探讨 $\{|a_n|\}$ 的增减性，将 $q$ 与 $a_1$ 取绝对值再分析即可．
- 当 $q = 1$ 时，$\{a_n\}$ 为 **常数列**．
- 当 $a_1 > 0$ 且 $0 < q < 1$ 时，$\{a_n\}$ 为 **恒正递减数列**．
- 当 $a_1 > 0$ 且 $q > 1$ 时，$\{a_n\}$ 为 **恒正递增数列**．
- 当 $a_1 < 0$ 且 $0 < q < 1$ 时，$\{a_n\}$ 为 **恒负递增数列**（绝对值 **递减**）．
- 当 $a_1 < 0$ 且 $q > 1$ 时，$\{a_n\}$ 为 **恒负递减数列**（绝对值 **递增**）．

可以总结为：

- $q < 0$ 时，$\{a_n\}$ 的 **正负摆动**，**增减性摆动**，通常不讨论．
- $q > 0$ 时，$\{a_n\}$ **恒正 / 恒负**．
- $q > 0$ 时，如果 $q$ 足够 **贴近** $0$（$0 < q < 1$），则数列 $\{a_n\}$ 也会 **贴近** $0$（表现为 **绝对值递减**）；如果 $q$ 距离 $0$ **比较远**（$q > 1$），则数列 $\{a_n\}$ 会 **远离** $0$（表现为 **绝对值递增**）．

:::info[例题 1.3]

已知公比为 $q$ 的等比数列 $\{a_n\}$，则「$a_1(q - 1) > 0$」是「$\{a_n\}$ 为递增数列」的什么条件？

:::

:::tip[例题 1.3 解答]

显然 $a_1 < 0$ 且 $q < 0$ 满足「$a_1(q - 1) > 0$」，但 $\{a_n\}$ 摆动，而不满足「$\{a_n\}$ 递增」．

而当「$\{a_n\}$ 递增」时，$a_1 > 0$ 则 $q > 1$，$a_1 < 0$ 则 $0 < q < 1$，均满足前者．

因此「$a_1(q - 1) > 0$」比「$\{a_n\}$ 为递增数列」严格弱，前者为后者的 **必要不充分条件**．

:::

### 等比数列的性质

下设 $\{a_n\}$ 为等比数列．

#### 等比数列性质零

这是一个排除解的小技巧，基于等比数列较为基本的性质，因此列在这里．

- $q > 0$ 时，数列 **恒负** 或 **恒正**．
- $q < 0$ 时，数列 **正负邻项交替**．
- 无论如何，数列中 **下标奇偶性相同** 的项，**正负性相同**．

利用这个性质，我们可以及时排除正负性错误的解．比如已知 $a_3 = 5$，则 $a_5$ 不可能是负数．如果解出 $a_5 = 2$ 或 $a_5 = -1$，就可以直接排除后者了．

#### 等比数列性质一

$$
\dfrac{a_n}{a_m} = q^{n - m}
$$

该式可以用来 **已知任意两项求公比**．其变形

$$
a_n = a_m q^{n - m}
$$

可以用来 **已知等比数列的任意一项与公比，求任一另外项**．

#### 等比数列性质二（下标守恒定律）

定义等比数列的若干项相乘、相除（可以带次数，不能带系数）形成的式子为「**等比乘除式**」.

定义「等比乘除式」两个属性：

- **次数和**：即所有 $\{a_n\}$ 的 **次数** 之和．
- **下标和**：即所有 $\{a_n\}$ 的 **下标与次数的积** 之和．

如 $\dfrac{{a_9}^2}{a_{10}}$ 的次数和为 $2 - 1 = 1$，下标和为 $9 \times 2 + 10 \times (-1) = 8$．

结论：**对于两个「等比乘除式」，如果它们的次数和与下标和均分别相同，则结果一定相同**．这就是等比数列的 **下标守恒定律**．

证明：

$$
\begin{aligned}
& \phantom = {a_{x_1}}^{p_1}{a_{x_2}}^{p_2}\cdots{a_{x_k}}^{p_k} \\
& = (a_1q^{{x_1} - 1})^{p_1}(a_1q^{{x_2} - 1})^{p_2}\cdots(a_1q^{{x_k} - 1})^{p_k} \\
& = {a_1}^{p_1 + p_2 + \cdots + p_k} q^{p_1x_1 + p_2x_2 + \cdots + p_kx_k - (p_1 + p_2 + \cdots + p_k)}
\end{aligned}
$$

次数和 $p_1 + p_2 + \cdots + p_k$ 与下标和 $p_1x_1 + p_2x_2 + \cdots + p_kx_k$ 确定时，结果确定．

其实「等比乘除式」也可以带系数，此时两个「等比乘除式」的系数还要相同．不过这个只跟等号两边相同系数约分有关，跟等比数列本身没有关系．

#### 等比数列性质三

对于等比数列 $\{a_n\}$，我们生成一个 **正整数** $k$，一个 **整数** $t$，一个长度为 $k$ 的 **正整数序列** $x$，一个长度为 $k$ 的 **实数序列** $\{c_n\}$，如果我们有

$$
\forall i, x_i + t > 0
$$

则由于 $a_{x + t} = q^t a_x$，有

$$
c_1 a_{x_1 + t} + c_2 a_{x_2 + t} + \cdots + c_k a_{x_k + t} = q^t(c_1 a_{x_1} + c_2 a_{x_2} + \cdots + c_k a_{x_k})
$$

如果再保证

$$
c_1 a_{x_1} + c_2 a_{x_2} + \cdots + c_k a_{x_k} \ne 0
$$

则

$$
\dfrac{c_1 a_{x_1 + t} + c_2 a_{x_2 + t} + \cdots + c_k a_{x_k + t}}{c_1 a_{x_1} + c_2 a_{x_2} + \cdots + c_k a_{x_k}} = q^t
$$

**这个性质可以用来化简一些式子**，如已知 $\dfrac{a_9 - a_7}{a_5 - a_3} = 1$，其等价于 $q^4 = 1$ 且 $a_5 - a_3 \ne 0$，后面这个不等式又能进一步推出 $q \ne 1$，因此 $q = -1$．

更进一步，对于任意 $k$，我们写出数列

$$
a_1 + a_2 + \cdots + a_k, a_{k + 1} + a_{k + 2} + \cdots + a_{2k}, a_{2k + 1} + a_{2k + 2} + \cdots + a_{3k}, \ldots
$$

根据上面的性质，每一项都是前一项的 $q^k$ 倍，而只要这个数列中某一项不为 $0$，则整个数列就构成等比数列（如果某一项为 $0$，整个数列退化为恒零常数列）．

根据区间和为两个前缀和的差，我们还可以写成

$$
S_k, S_{2k} - S_k, S_{3k} - S_{2k}, \ldots
$$

为公比为 $q^k$ 的等比数列（如果存在一项不为 $0$）．

有一个结论：只要 $q \ne -1$，等比数列的任意区间和就不会为 $0$，上面的数列就一定能构成合法等比数列．在下一节给出证明．

### 等比数列前缀和

对于等比数列 $\{a_n\}$，有

$$
\begin{matrix}

S_n  & = & a_1 & + & a_1q & + & a_1q^2 & + & \cdots & + & a_1q^{n - 1} &   & \\
qS_n & = &     &   & a_1q & + & a_1q^2 & + & \cdots & + & a_1q^{n - 1} & + & a_1q^n
\end{matrix}
$$

下减上得

$$
(q - 1)S_n = a_1q^n - a_1
$$

当 $q \ne 1$ 时，上式可整理得

$$
S_n = \dfrac{a_1(q^n - 1)}{q - 1}
$$

当 $q = 1$ 时，显然 $S_n = na_1$．

因此

$$
S_n = \begin{cases}
na_1, & q = 1 \\[1ex]
\dfrac{a_1(q^n - 1)}{q - 1}, & q \ne 1
\end{cases}
$$

这就是等比数列的前缀和公式，注意要分两种情况，且两种情况不能合并．因此，使用前缀和公式前一般必须讨论 $q = 1$．

任意正整数 $n$ 和正整数 $m$，如果 $q \ne 1$ 且 $S_m \ne 0$，则

$$
\dfrac{S_n}{S_m} = \dfrac{q^n - 1}{q^m - 1}
$$

$a_1$ 在这个过程中被消元了．

特别地，当 $n = 2m$ 时，

$$
\dfrac{S_n}{S_m} = \dfrac{q^{2m} - 1}{q^m - 1} = \dfrac{(q^m + 1)(q^m - 1)}{q^m - 1} = q^m + 1
$$

也可以理解为（运用等比数列性质三）：

$$
\dfrac{S_n}{S_m} = 1 + \dfrac{S_{2m} - S_m}{S_m} = 1 + q^m
$$

::::note[$q \ne -1$ 时等比数列任意区间和不为 $0$ 的证明]

任取等比数列 $\{a_n\}$，求证 $q \ne -1 \implies$ 对于任意 $l < r$ 有 $\sum_{i = l}^r a_i \ne 0$．

首先，等比数列任取一段后缀仍然是等比数列，即我们可以将 $l$ 到 $r$ 的区间和，转化为另一个等比数列的前缀和．

问题变成 $q \ne -1 \implies S_n \ne 0$．

考虑 $q = 1$ 时，$S_n = na_1 \ne 0$．

而 $q \ne 1$ 时，$S_n = 0 \iff q^n = 1$，下面的引理证明了只有 $q = -1$ 时后面这个方程可能成立，于是命题自然得证．

:::note[引理]

$q$ 为非零参数，$n$ 为未知元的方程 $q^n = 1, \quad n \in \N^\ast$：

- 当 $q = 1$ 时，任意 $n$ 均为解．
- 当 $q = -1$ 时，有且仅有正偶数 $n$ 为解．
- 否则，方程无解．

前两条证明是容易的．第三条的证明：考虑 $|q^n| = ||q|^n|$，于是：

- $0 < |q| < 1$ 时，$|q^n| = ||q|^n| < ||q| ^ 0| = 1$，因此 $q^n \ne 1$．
- $|q| > 1$ 时，$|q^n| = ||q|^n| > ||q| ^ 0| = 1$，因此 $q^n \ne 1$．

:::

::::

### 等比数列前缀积

等比数列 $\{a_n\}$ 的前缀积 $\{T_n\}$：

$$
T_n = a_1 \cdot a_1q \cdot a_1q^2 \cdots = {a_1}^nq^{1 + 2 + \cdots + (n - 1)} = {a_1}^nq^{n(n - 1)/2}
$$

一个比较有价值的讨论是 $a_1 > 1$，$0 < q < 1$ 时 $\{T_n\}$ 的最大项（其它情况要么平凡，要么可以对称得到）：

- 设最后一个满足 $a_k > 1$ 的项 $a_k$，则 $T_k$ 一定是 $\{T_n\}$ 的最大项．
- 如果 $a_{k + 1} = 1$，则 $T_{k + 1}$ 也是 $\{T_n\}$ 的最大项；否则不是．

## 等比数列题型

### 等比数列信息求解

基本量法：通过将未知量转为 $a_1$ 和 $q$ 的式子，将条件转为若干 $a_1$ 和 $q$ 构成的二元方程组，然后解方程组．

与等差数列不同的是，等比数列构成的方程次数一般较高，需要注意良好的降次策略以及多解问题．

有时转化为 $a_i$ 和 $q$ 可能更好做：

- 已知 $a_6$，求 $a_5 + a_6 + a_7$：可以将所求转化为 $\dfrac{a_6}q + a_6 + a_6q$．
- 已知 $a_{100} + a_{101} + 2a_{102} > 0$：其可以转化为 $a_{100}(1 + q + 2q^2) > 0$，括号内恒 $> 0$，因此 $a_{100} > 0$．

:::info[例题 2.1.1]

等比数列 $\{a_n\}$，已知 $a_5 - a_1 = 15$，$a_4 - a_2 = 6$，求 $a_3$ 的值．

:::

:::tip[例题 2.1.1 解答]

$$
\begin{cases}
a_1q^4 - a_1 = a_1(q^4 - 1) = 15 \\
a_1q^3 - a_1q = a_1(q^3 - q) = 6
\end{cases}
$$

**对式子提出一个 $a_1$ 的处理在等比数列中特别常用，应当注意**．

上比下可得（等比数列 $a_1 \ne 0$）：

$$
\dfrac{q^4 - 1}{q^3 - q} = \dfrac 5 2
$$

而

$$
\dfrac{q^4 - 1}{q^3 - q} = \dfrac{(q^2 + 1)(q^2 - 1)}{q(q^2 - 1)}
$$

不难发现 $q^2 - 1 = 0$ 不满足题意，因此约分

$$
\dfrac{q^2 + 1}q = \dfrac 5 2
$$

**这种对两个式子相比消去 $a_1$，然后再约分的连招操作也非常常见，请读者熟练**．

交叉相乘可得 $2q^2 - 5q + 2 = 0$，解得 $q = 2$ 或 $q = \dfrac 1 2$．

因此 $a_3 = a_1q^2 = \pm 4$．

:::

:::info[例题 2.1.2]

已知等比数列 $\{a_n\}$ 的前 $n$ 项和为 $S_n$，$S_8 = 2$，$S_{24} = 14$，求 $S_{1000}$ 的值．

:::

:::tip[例题 2.1.2 解答]

先验一下 $q = 1$ 的情况（前缀和公式需要讨论）．$q = 1$ 时，$S_{24} = 3S_8$，与条件矛盾，舍去．

$q \ne 1$ 时，由于 $S_8 \ne 0$，因此

$$
\dfrac{S_{24}}{S_8} = \dfrac{q^{24} - 1}{q^8 - 1}
$$

令 $t = q^8$（$t > 0$），可得

$$
\dfrac{t^3 - 1}{t - 1} = \dfrac{(t - 1)(t^2 + t + 1)}{t - 1} = 7
$$

即

$$
t^2 + t + 1 = 7
$$

联系 $t > 0$ 可得 $t = 2$，即 $q^8 = 2$．

最后可以注意到

$$
\dfrac{S_{1000}}{S_8} = \dfrac{q^{1000} - 1}{q^8 - 1} = \dfrac{t^{125} - 1}{t - 1} = 2^{125} - 1
$$

因此 $S_{1000} = 2^{126} - 2$．

:::

:::info[例题 2.1.3]

递减等比数列 $\{a_n\}$，$a_2a_8 = 6$，$a_4 + a_6 = 5$，求 $\dfrac{a_9 - a_5}{a_7 - a_3}$ 的值．

:::

:::tip[例题 2.1.3 解答]

$a_2a_8 = 6$ 等价于 $a_4a_6 = 6$（下标守恒定律）．

联立 $a_4 + a_6 = 5$，结合 $\{a_n\}$ 递减，有 $a_4 > a_6$，可得 $a_4 = 3$，$a_6 = 2$．

$$
\dfrac{a_9 - a_5}{a_7 - a_3} = q^2 = \dfrac{a_6}{a_4} = \dfrac 2 3
$$

:::

:::info[例题 2.1.4]

已知 $\{a_n\}$ 是等比数列，但不是等差数列，若 $a_1 = 1$，$a_2$，$a_6$，$a_8$ 成等差数列，求 $a_3$．

:::

:::tip[例题 2.1.4 解答]

首先，等比数列不是等差数列等价于 $q \ne 1$．这点可以在卷子上直接写，至于怎么证明也比较显然，略去．

条件给出三项成等差数列，运用有限长度等差数列的处理思路，等价为等差中项：

$$
a_2 + a_8 = 2a_6
$$

可得 $q^6 - 2q^4 + 1 = 0$．

这个式子可以运用分组分解法分解为

$$
(q^2 - 1)(q^4 - q^2 - 1) = 0
$$

注意到 $a_3 = a_1q^2 = q^2$，计算 $q^2$ 的值即可，换元

$$
(t - 1)(t^2 - t - 1) = 0
$$

解得 $t = 1$ 或 $t = \pm \dfrac{1 + \sqrt 5}2$．由于 $t = q^2 > 0$，负解舍去．

$t = 1$ 可以取 $q = -1$，$t = \dfrac{1 + \sqrt 5}2$ 也可以令 $q = \pm \sqrt t$，因此两个解都能取到．所以 $a_3 = 1$ 或 $a_3 = \dfrac{1 + \sqrt 5}2$．

:::

:::info[例题 2.1.5]

已知等比数列 $\{a_n\}$，函数 $f(x) = x^2 - 5x + 3$ 的两个零点是 $a_1$，$a_5$，求 $a_3$ 的值．

:::

:::tip[例题 2.1.5 解答]

${a_3}^2 = a_1a_5$，$a_1a_5$ 可用韦达定理求解为 $3$，解得 $a_3 = \pm \sqrt 3$．

$a_3$ 两个解都能取到吗？答案是否定的．$a_3$ 与 $a_1$ 和 $a_5$ 的正负性一致，而 $a_1$ 和 $a_5$ 是一个具体函数的零点，因此一定有一个解取不到．

只需计算 $a_1$，$a_5$ 的正负．韦达定理可知 $a_1 + a_5 = 5 > 0$，因此 $a_1 > 0$，$a_5 > 0$，$a_3 > 0$，$a_3 = \sqrt 3$．

:::

:::info[例题 2.1.6]

已知 $\{S_n\}$ 为等比数列 $\{a_n\}$ 的前缀和，若 $S_2 = 4$，$S_4 = 6$，求 $S_6$ 的值．

:::

:::tip[例题 2.1.6 解答]

等比数列性质三给出

$$
S_2, S_4 - S_2, S_6 - S_4
$$

为等比数列（$S_2 \ne 0$）．$S_4 - S_2 = 2$，因此 $S_6 - S_4 = 1$，$S_6 = 7$．

:::

### 等比数列的判定

#### 作比成常数判定等比数列

等比数列的证明有两种有细微差别的策略：

- 证明 $\dfrac{a_{n + 1}}{a_n} = q, \quad n \in \N^\ast$，其中 $q$ 是一个与 $n$ 无关的常数．
- 证明 $a_{n + 1} = qa_n, \quad n \in \N^\ast$，其中 $q$ 是一个与 $n$ 无关的常数；**且需再验证** $q\ne 0$，且 $\{a_n\}$ 中 **存在一个非零项**．

方法一是等比数列的定义，证明每一项与前一项的比为一定值．这种方法并不需要多余验证．

来看一道例题：

:::info[例题 2.2]

数列 $\{a_n\}$ 满足 $a_1 = 1$，$a_{n + 1} = 2a_n + 1, \quad n \in \N^\ast$，求证：$\{a_n + 1\}$ 是等比数列．

:::

:::tip[例题 2.2 解答（方法一）]

试图证明 $\dfrac{a_{n + 1} + 1}{a_n + 1}$ 是定值．

$a_{n + 1} = 2a_n + 1$ 可以简单变形得 $a_{n + 1} + 1 = 2(a_n + 1)$．

看起来胜利在望，只要证明 $a_n + 1 \ne 0$，两边同时除以这个式子就解决了．但这里对 $a_n + 1 \ne 0$ 的证明需要采取数学归纳法，我们有更好的方案……

:::

:::tip[例题 2.2 解答（方法二）]

$a_{n + 1} = 2a_n + 1$ 可以简单变形得 $a_{n + 1} + 1 = 2(a_n + 1)$．

由于首项 $a_1 + 1 = 2 \ne 0$，公比 $2 \ne 0$，因此数列为等比数列．

:::

可以看到：

- 方法一表面上不需要验证，但其中的作比操作往往需证待证数列任意一项不等于 $0$，较麻烦．
- 而方法二只需验证 $q$ 不为 $0$，并且随便能找出一个非零项即可（一般验证首项）．这通常比证明任意一项非 $0$ 简单．

这是因为对于满足

$$
a_{n + 1} = qa_n
$$

的数列，当 $q$ 为 **非零** 常数时，唯一不满足等比数列条件的是全零列，因此只要验证任意一项不为 $0$ 就可否决这种情况．

#### 等比中项判定等比数列

只要数列 $\{a_n\}$ 满足：

- 存在一个 **非首项** 的项不为 $0$（单独首项不为零不行，会出现 $1, 0, 0, \ldots$）．
- $a_{n - 1} \cdot a_{n + 1} = {a_n}^2$ 对任意 $n \in \N^\ast$，$n \ge 2$ 均成立．

也可以直接判定 $\{a_n\}$ 为等比数列，可在大题中直接使用．

### 函数视角看等比数列

$$
a_n = a_1 \cdot q ^ {n - 1} = \dfrac{a_1}q \cdot q^n
$$

没什么用所以不多说了．

当 $q \ne 1$ 时，

$$
S_n = \dfrac{a_1(q^n - 1)}{q - 1} = \dfrac{a_1}{q - 1} \cdot q^n - \dfrac{a_1}{q - 1}
$$

因此，

- $q \ne 1$ 的等比数列前缀和一定可以写成 $S_n = Aq^n - A$，$A \ne 0$，$q \ne 0$，$q \ne 1$ 的形式．
- 对于任意 $S_n = Aq^n - A$，若保证 $A \ne 0$，$q \ne 0$，$q \ne 1$，则恰好对应一个等比数列的前缀和通项公式．因为 $a_1 = A(q - 1)$ 唯一确定．

当题目只出现 $\{S_n\}$ 不出现 $\{a_n\}$，直接设函数是比较合适的．

:::info[例题 2.3]

公差为 $d$ 的等差数列 $\{a_n\}$ 与公比为 $q$ 的等比数列 $\{b_n\}$ 满足 $\{a_n + b_n\}$ 的前 $n$ 项和 $S_n = n^2 - n + 2^n - 1$，求 $d + q$ 的值．

:::

:::tip[例题 2.3 解答]

等差数列形如 **没有常数项的一次 / 二次函数**，因此 $n^2 - 2n$ 是 $\{a_n\}$ 的前缀和．二次项系数是 $d$ 的一半，即 $d = 2$．

等比数列形如 $Aq^n - A$，因此 $2^n - 1$ 是 $\{b_n\}$ 的前缀和．$q$ 是指数项的底数 $2$．

因此 $d + q = 4$．

:::

另外，注意到 $S_n = Aq^n - A = A(q^n - 1)$，之前

$$
\dfrac{S_n}{S_m} = \dfrac{A(q^n - 1)}{A(q^m - 1)} = \dfrac{q^n - 1}{q^m - 1}
$$

也得到了更为精炼的解释．

最后的最后，**注意这个函数形式只适用于 $q \ne 1$ 的情形，$q = 1$ 需要特判**．

### 首项与公比相等的等比数列

满足 $a_1 = q$ 的等比数列有以下性质：

- 通项公式 $a_n = q^n$．
- 将 $\{a_n\}$ 的通项公式视作函数，则 $a(0) = 1$．
- 对任意 **存在非零项** 的数列 $\{a_n\}$，它是 $a_1 = q$ 的等比数列，**等价于** 对任意 $m, n \in \N^\ast$，$a_{m + n} = a_ma_n$．

:::note[第三条的证明]

对任意数列 $\{a_n\}$：

**$\{a_n\}$ 是一个满足 $a_1 = q$ 的等比数列，推出 $a_{m + n} = a_ma_n$**：

$$
a_{m + n} = q^{m + n} = q^m \cdot q^n = a_ma_n
$$

**$a_{m + n} = a_ma_n$ 推出 $\{a_n\}$ 是一个满足 $a_1 = q$ 的等比数列**：

对任意 $n \in \N^\ast$，令 $m = 1$，有 $a_{n + 1} = a_1a_n$．

若 $a_1 = 0$，根据上式，$\{a_n\}$ 退化为全零列（需用数学归纳法证明，这里省略），与 $\{a_n\}$ 存在非零项矛盾．

因此 $a_1 \ne 0$，有 $\dfrac{a_{n + 1}}{a_n} = a_1$，可得 $\{a_n\}$ 为首项 $a_1$ 与公比 $q$ 相等的等比数列．

:::

:::info[例题 2.4]

数列 $\{a_n\}$ 中，$a_1 = 2$，$a_{m + n} = a_ma_n$，解关于 $k$ 的方程：$a_{k + 1} + a_{k + 2} + \cdots + a_{k + 10} = 2^{15} - 2^5$．

:::

:::tip[例题 2.4 解答]

$a_{m + n} = a_ma_n$ 等价于 $\{a_n\}$ 为 $a_1 = q$ 的等比数列，且 $a_1 = 2$，可知 $a_n = 2^n$．

$$
a_{k + 1} + a_{k + 2} + \ldots + a_{k + 10} = a_{k+1} \cdot \dfrac{q^{10} - 1}{q - 1} = 2^{k + 1}(2^{10} - 1) = 2^{k + 11} - 2^{k + 1}
$$

显然 $k = 4$ 为方程的一个解．

而 $2^{k + 11} - 2^{k + 1} = 2^k(2^{11} - 2)$ 单调递增，因此 $k = 4$ 为方程的唯一解．

:::

### 等比转等差

对于 **正项** 等比数列 $\{a_n\}$（正项自动提出 $q > 0$ 的要求），令 $b_n = \lg a_n$，则：

- $b_n = \lg(a_1 \cdot q^{n - 1}) = \lg a_1 + (n - 1) \lg q$，即 $\{b_n\}$ 是一个 **首项** 为 $\* \lg a_1$，**公差** 为 $\* \lg q$ 的 **等差数列**．
- 【$\*a_n$ 与 $\* 1$ 的大小关系】和【$\*b_n$ 与 $\* 0$ 的大小关系】**保持同步**．
- 令 $\{a_n\}$ 的 **前缀积** 为 $\{T_n\}$，$\{b_n\}$ 的 **前缀和** 为 $\{S_n\}$，有 $\* S_n = \lg T_n$．
- 【$\*T_n$ 与 $\* 1$ 的大小关系】和【$\*S_n$ 与 $\* 0$ 的大小关系】**保持同步**．

:::info[例题 2.5]

已知正项等比数列 $\{a_n\}$ 满足 $a_1 > 1$，$a_6 + a_7 > a_5a_8 + 1 > 2$，记 $\{T_n\}$ 为 $\{a_n\}$ 的前缀积，下列选项中正确的是（多选）：

- A. $0 < q < 1$
- B. $a_6 > 1$
- C. $T_{12} > 1$
- D. $T_{13} > 1$

:::

::::tip[例题 2.5 解答]

$$
a_6 + a_7 > a_5a_8 + 1 > 2 \iff a_6 + a_7 > a_6a_7 + 1 > 2
$$

$$
a_6 + a_7 > a_6a_7 + 1 \iff a_6a_7 - a_6 - a_7 + 1 < 0 \iff (a_6 - 1)(a_7 - 1) < 0
$$

$$
a_6a_7 + 1 > 2 \iff a_6a_7 > 1
$$

令 $b_n = \lg a_n$，则题目可以转化为

:::info[例题 2.5 转化题意]

已知等差数列 $\{b_n\}$ 满足 $b_1 > 0$，$b_6b_7 < 0$，$b_6 + b_7 > 0$，记 $\{S_n\}$ 为 $\{b_n\}$ 的前缀和，下列选项中正确的是（多选）：

- A. $d < 0$
- B. $b_6 > 0$
- C. $S_{12} > 0$
- D. $S_{13} > 0$

:::

转化后题目就不难做了，是在[函数视角看等差数列](./ap.md#函数视角看等差数列)讲过的内容．

- A. $\{b_n\}$ 下降，$d < 0$，正确．
- B. $b_6 > 0$，$b_7 < 0$，正确．
- C、D. $\{b_n\}$ 的零点位于 $(6.5, 7)$，因此 $\{S_n\}$ 的对称轴横坐标位于 $(6, 6.5)$，可知 $\{S_n\}$ 的零点位于 $(12, 13)$．且 $\{S_n\}$ 开口向下，因此 $S_{12} > 0$，$S_{13} < 0$，C 正确，D 错误．

答案为 ABC．

::::

如果题目中出现等比数列的前缀和，一般不考虑等比转等差，因为等比数列的前缀和在等差数列中找不到明显对应．

对于不保证正项的等比数列，我们有 $\{\lg \lv a_n \rv\}$ 为公差 $\lg \lv q \rv$ 的等差数列．但这个形式不好，一般不讨论．

最后，等差其实也可以转等比，如果 $\{a_n\}$ 为公差为 $d$ 的等差数列，则 $\{t^{a_n}\}$（$t \ne 0$）是公比为 $t^d$ 的等比数列．
